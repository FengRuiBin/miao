{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport { useState, useCallback, useMemo, useEffect } from \"react\";\nimport { useLocation } from \"react-router-dom\";\nimport axios from \"axios\";\nexport function useInput() {\n  _s();\n  let init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : '';\n  var [value, setValue] = useState(init);\n  var onChange = useCallback(function onChange(e) {\n    setValue(e.target.value);\n  }, []);\n  return {\n    value,\n    onChange\n  };\n}\n_s(useInput, \"KrmnyqKVGUGQSlrXBQmDgla2thM=\");\nexport function useBooleanInput() {\n  _s2();\n  let init = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : false;\n  var [checked, setChecked] = useState(init);\n  var onChange = useCallback(function onChange(e) {\n    setChecked(e.target.checked);\n  }, []);\n  return {\n    checked,\n    onChange\n  };\n}\n_s2(useBooleanInput, \"MghoiN9n/tjkPKOyCRGmHCOgS3s=\");\nexport function useQuery() {\n  _s3();\n  var search = useLocation().search;\n  return useMemo(() => new URLSearchParams(search), [search]);\n}\n_s3(useQuery, \"z3d/mcTWC4E3z8BNMd0PwL5/N3w=\", false, function () {\n  return [useLocation];\n});\nexport function useAxios(config) {\n  _s4();\n  // 用来存放请求结果\n  var [data, setData] = useState();\n  debugger;\n  // 用来存放错误结果\n  var [error, setError] = useState();\n  // 用来存放是否还在加载中\n  var [loading, setLoading] = useState(true);\n  var [i, setI] = useState(0);\n  useEffect(() => {\n    const CancelToken = axios.CancelToken;\n    const source = CancelToken.source();\n    var req = axios({\n      ...config,\n      cancelToken: source.token\n    });\n    req.then(res => {\n      if (res.data.code === 0) {\n        debugger;\n        setData(res.data.result);\n      } else {\n        setError(res.data.msg);\n      }\n      setLoading(false);\n    }).catch(e => {\n      setError(e.toString());\n      setLoading(false);\n    });\n    return () => source.cancel();\n  }, [config.url, i]);\n  var update = useCallback(function update() {\n    setI(i => i + 1);\n  }, []);\n  return {\n    data,\n    loading,\n    error,\n    update\n  };\n}\n_s4(useAxios, \"CP0/e+R2ia6ToubSmspjUSaFLZY=\");","map":{"version":3,"names":["useState","useCallback","useMemo","useEffect","useLocation","axios","useInput","init","value","setValue","onChange","e","target","useBooleanInput","checked","setChecked","useQuery","search","URLSearchParams","useAxios","config","data","setData","error","setError","loading","setLoading","i","setI","CancelToken","source","req","cancelToken","token","then","res","code","result","msg","catch","toString","cancel","url","update"],"sources":["/Users/fengruibin/Documents/miao/vote/vote-react/src/hooks/Hook.js"],"sourcesContent":["import { useState, useCallback, useMemo, useEffect } from \"react\"\nimport { useLocation } from \"react-router-dom\"\nimport axios from \"axios\"\n\nexport function useInput(init = '') {\n  var [value, setValue] = useState(init)\n  var onChange = useCallback(function onChange(e) {\n    setValue(e.target.value)\n  }, [])\n  return {\n    value, onChange\n  }\n}\n\nexport function useBooleanInput(init = false) {\n  var [checked, setChecked] = useState(init)\n  var onChange = useCallback(function onChange(e) {\n    setChecked(e.target.checked)\n  }, [])\n  return { checked, onChange }\n}\n\nexport function useQuery() {\n  var search = useLocation().search\n  return useMemo(() => new URLSearchParams(search), [search])\n}\n\nexport function useAxios(config) {\n  // 用来存放请求结果\n  var [data, setData] = useState()\n  debugger\n  // 用来存放错误结果\n  var [error, setError] = useState()\n  // 用来存放是否还在加载中\n  var [loading, setLoading] = useState(true)\n  var [i, setI] = useState(0)\n  useEffect(() => {\n    const CancelToken = axios.CancelToken\n    const source = CancelToken.source()\n    var req = axios({\n      ...config,\n      cancelToken: source.token\n    })\n    req.then(res => {\n      if (res.data.code === 0) {\n        debugger\n        setData(res.data.result)\n      } else {\n        setError(res.data.msg)\n      }\n      setLoading(false)\n    }).catch(e => {\n      setError(e.toString())\n      setLoading(false)\n    })\n    return () => source.cancel()\n  }, [config.url, i])\n\n  var update = useCallback(function update() {\n    setI(i => i + 1)\n  }, [])\n\n  return {\n    data,\n    loading,\n    error,\n    update\n  }\n}"],"mappings":";;;;AAAA,SAASA,QAAQ,EAAEC,WAAW,EAAEC,OAAO,EAAEC,SAAS,QAAQ,OAAO;AACjE,SAASC,WAAW,QAAQ,kBAAkB;AAC9C,OAAOC,KAAK,MAAM,OAAO;AAEzB,OAAO,SAASC,QAAQ,GAAY;EAAA;EAAA,IAAXC,IAAI,uEAAG,EAAE;EAChC,IAAI,CAACC,KAAK,EAAEC,QAAQ,CAAC,GAAGT,QAAQ,CAACO,IAAI,CAAC;EACtC,IAAIG,QAAQ,GAAGT,WAAW,CAAC,SAASS,QAAQ,CAACC,CAAC,EAAE;IAC9CF,QAAQ,CAACE,CAAC,CAACC,MAAM,CAACJ,KAAK,CAAC;EAC1B,CAAC,EAAE,EAAE,CAAC;EACN,OAAO;IACLA,KAAK;IAAEE;EACT,CAAC;AACH;AAAC,GAReJ,QAAQ;AAUxB,OAAO,SAASO,eAAe,GAAe;EAAA;EAAA,IAAdN,IAAI,uEAAG,KAAK;EAC1C,IAAI,CAACO,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAACO,IAAI,CAAC;EAC1C,IAAIG,QAAQ,GAAGT,WAAW,CAAC,SAASS,QAAQ,CAACC,CAAC,EAAE;IAC9CI,UAAU,CAACJ,CAAC,CAACC,MAAM,CAACE,OAAO,CAAC;EAC9B,CAAC,EAAE,EAAE,CAAC;EACN,OAAO;IAAEA,OAAO;IAAEJ;EAAS,CAAC;AAC9B;AAAC,IANeG,eAAe;AAQ/B,OAAO,SAASG,QAAQ,GAAG;EAAA;EACzB,IAAIC,MAAM,GAAGb,WAAW,EAAE,CAACa,MAAM;EACjC,OAAOf,OAAO,CAAC,MAAM,IAAIgB,eAAe,CAACD,MAAM,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;AAC7D;AAAC,IAHeD,QAAQ;EAAA,QACTZ,WAAW;AAAA;AAI1B,OAAO,SAASe,QAAQ,CAACC,MAAM,EAAE;EAAA;EAC/B;EACA,IAAI,CAACC,IAAI,EAAEC,OAAO,CAAC,GAAGtB,QAAQ,EAAE;EAChC;EACA;EACA,IAAI,CAACuB,KAAK,EAAEC,QAAQ,CAAC,GAAGxB,QAAQ,EAAE;EAClC;EACA,IAAI,CAACyB,OAAO,EAAEC,UAAU,CAAC,GAAG1B,QAAQ,CAAC,IAAI,CAAC;EAC1C,IAAI,CAAC2B,CAAC,EAAEC,IAAI,CAAC,GAAG5B,QAAQ,CAAC,CAAC,CAAC;EAC3BG,SAAS,CAAC,MAAM;IACd,MAAM0B,WAAW,GAAGxB,KAAK,CAACwB,WAAW;IACrC,MAAMC,MAAM,GAAGD,WAAW,CAACC,MAAM,EAAE;IACnC,IAAIC,GAAG,GAAG1B,KAAK,CAAC;MACd,GAAGe,MAAM;MACTY,WAAW,EAAEF,MAAM,CAACG;IACtB,CAAC,CAAC;IACFF,GAAG,CAACG,IAAI,CAACC,GAAG,IAAI;MACd,IAAIA,GAAG,CAACd,IAAI,CAACe,IAAI,KAAK,CAAC,EAAE;QACvB;QACAd,OAAO,CAACa,GAAG,CAACd,IAAI,CAACgB,MAAM,CAAC;MAC1B,CAAC,MAAM;QACLb,QAAQ,CAACW,GAAG,CAACd,IAAI,CAACiB,GAAG,CAAC;MACxB;MACAZ,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC,CAACa,KAAK,CAAC5B,CAAC,IAAI;MACZa,QAAQ,CAACb,CAAC,CAAC6B,QAAQ,EAAE,CAAC;MACtBd,UAAU,CAAC,KAAK,CAAC;IACnB,CAAC,CAAC;IACF,OAAO,MAAMI,MAAM,CAACW,MAAM,EAAE;EAC9B,CAAC,EAAE,CAACrB,MAAM,CAACsB,GAAG,EAAEf,CAAC,CAAC,CAAC;EAEnB,IAAIgB,MAAM,GAAG1C,WAAW,CAAC,SAAS0C,MAAM,GAAG;IACzCf,IAAI,CAACD,CAAC,IAAIA,CAAC,GAAG,CAAC,CAAC;EAClB,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLN,IAAI;IACJI,OAAO;IACPF,KAAK;IACLoB;EACF,CAAC;AACH;AAAC,IAzCexB,QAAQ"},"metadata":{},"sourceType":"module"}